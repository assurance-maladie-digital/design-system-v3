import { Meta, Title, Subtitle, Description, Primary, Controls, Stories } from '@storybook/blocks';
import * as AccordionStories from '../Accordion.stories';
import AccessibilityIcon from '@/common/imgs/accessibility-svgrepo-com.svg';

<Meta of={AccordionStories} />

<div className="accessibility-guide">
  <Title>Guide d'Accessibilit√© du Composant Accordion</Title>
  
  <div className="intro-section">
    <img 
      src={AccessibilityIcon} 
      alt="Ic√¥ne d'accessibilit√©" 
      className="accessibility-icon"
    />
    <p className="intro-text">
      Le composant Accordion a √©t√© con√ßu en suivant rigoureusement les recommandations d'accessibilit√© du W3C, 
      notamment le mod√®le <a href="https://www.w3.org/WAI/ARIA/apg/patterns/accordion/examples/accordion/" target="_blank" rel="noopener noreferrer">WAI-ARIA Authoring Practices</a>. 
      Ce guide d√©taille comment notre impl√©mentation respecte ces standards et garantit une exp√©rience utilisateur inclusive.
    </p>
  </div>

  <div className="criteria-section">
    <h2>Crit√®res d'accessibilit√© respect√©s</h2>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üîç</span>
        <h3>Structure s√©mantique</h3>
      </div>
      <ul>
        <li><strong>R√¥les ARIA appropri√©s</strong> : <code>role="button"</code> pour les en-t√™tes et <code>role="region"</code> pour les panneaux de contenu</li>
        <li><strong>Niveaux de titres personnalisables</strong> : Utilisation dynamique des balises <code>h1</code> √† <code>h6</code> selon le contexte</li>
        <li><strong>Relations entre √©l√©ments</strong> : Connexion entre en-t√™tes et panneaux via <code>aria-controls</code> et <code>aria-labelledby</code></li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">‚å®Ô∏è</span>
        <h3>Navigation clavier compl√®te</h3>
      </div>
      <ul>
        <li><strong>Touches Espace et Entr√©e</strong> : Pour activer/d√©sactiver les panneaux</li>
        <li><strong>Touches fl√©ch√©es</strong> : Navigation entre les en-t√™tes (‚Üë et ‚Üì)</li>
        <li><strong>Touches Home/End</strong> : Acc√®s rapide au premier/dernier en-t√™te</li>
        <li><strong>Gestion intelligente</strong> : Contournement automatique des √©l√©ments d√©sactiv√©s</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üì±</span>
        <h3>√âtats et retours d'information</h3>
      </div>
      <ul>
        <li><strong>√âtat d'expansion</strong> : <code>aria-expanded</code> indique si un panneau est ouvert ou ferm√©</li>
        <li><strong>√âtat de d√©sactivation</strong> : <code>aria-disabled</code> signale les √©l√©ments non disponibles</li>
        <li><strong>Indication visuelle</strong> : Rotation de l'ic√¥ne et changements de couleur pour indiquer l'√©tat</li>
        <li><strong>Focus visible</strong> : Indication claire de l'√©l√©ment actuellement focalis√©</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üé®</span>
        <h3>Personnalisation accessible</h3>
      </div>
      <ul>
        <li><strong>Contraste configurable</strong> : Options de couleurs pour garantir un contraste suffisant</li>
        <li><strong>Taille et espacement</strong> : Dimensions adapt√©es pour faciliter l'interaction</li>
        <li><strong>Coh√©rence visuelle</strong> : Comportement pr√©visible dans diff√©rents contextes</li>
      </ul>
    </div>
  </div>

  <div className="demo-section">
    <h2>D√©monstration interactive</h2>
    <p>
      Explorez ci-dessous un exemple d'Accordion enti√®rement accessible. 
      Essayez de naviguer en utilisant uniquement votre clavier pour tester l'accessibilit√©.
    </p>
    <Primary />
  </div>

  <div className="best-practices">
    <h2>Bonnes pratiques d'utilisation</h2>
    <ul>
      <li>Utilisez des titres concis et descriptifs pour les en-t√™tes</li>
      <li>√âvitez de placer des √©l√©ments interactifs complexes √† l'int√©rieur du contenu des panneaux</li>
      <li>Maintenez une coh√©rence dans l'utilisation des niveaux de titres</li>
      <li>Limitez le nombre d'accord√©ons sur une m√™me page pour √©viter la surcharge cognitive</li>
    </ul>
  </div>

  <div className="resources-section">
    <h2>Ressources suppl√©mentaires</h2>
    <ul>
      <li><a href="https://www.w3.org/WAI/ARIA/apg/patterns/accordion/" target="_blank" rel="noopener noreferrer">Guide des pratiques d'auteur WAI-ARIA pour les accord√©ons</a></li>
      <li><a href="https://www.w3.org/WAI/WCAG21/quickref/" target="_blank" rel="noopener noreferrer">R√©f√©rence rapide WCAG 2.1</a></li>
      <li><a href="https://inclusive-components.design/collapsible-sections/" target="_blank" rel="noopener noreferrer">Inclusive Components: Collapsible Sections</a></li>
    </ul>
  </div>
</div>

<style>
{`
  .accessibility-guide {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    max-width: 1200px;
    margin: 0 auto;
    padding: 2rem;
    color: #333;
    line-height: 1.6;
  }
  
  .intro-section {
    display: flex;
    align-items: center;
    gap: 2rem;
    margin: 2rem 0;
    padding: 1.5rem;
    background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
    border-radius: 12px;
  }
  
  .accessibility-icon {
    width: 80px;
    height: 80px;
    object-fit: contain;
  }
  
  .intro-text {
    font-size: 1.1rem;
    margin: 0;
  }
  
  .criteria-section {
    margin: 3rem 0;
  }
  
  .criteria-section h2 {
    font-size: 1.8rem;
    margin-bottom: 1.5rem;
    color: #2c3e50;
    border-bottom: 2px solid #e0e0e0;
    padding-bottom: 0.5rem;
  }
  
  .criteria-card {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), 0 1px 3px rgba(0, 0, 0, 0.1);
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  
  .criteria-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08), 0 3px 6px rgba(0, 0, 0, 0.12);
  }
  
  .criteria-header {
    display: flex;
    align-items: center;
    margin-bottom: 1rem;
  }
  
  .criteria-icon {
    font-size: 1.8rem;
    margin-right: 1rem;
  }
  
  .criteria-header h3 {
    margin: 0;
    font-size: 1.4rem;
    color: #1976d2;
  }
  
  .criteria-card ul {
    margin: 0;
    padding-left: 1.5rem;
  }
  
  .criteria-card li {
    margin-bottom: 0.5rem;
  }
  
  .criteria-card strong {
    color: #455a64;
  }
  
  .criteria-card code {
    background-color: #f5f5f5;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-size: 0.9rem;
    color: #e91e63;
  }
  
  .demo-section {
    margin: 3rem 0;
    padding: 2rem;
    background-color: #f9f9f9;
    border-radius: 8px;
  }
  
  .best-practices {
    margin: 3rem 0;
    padding: 1.5rem;
    background-color: #e8f5e9;
    border-left: 4px solid #4caf50;
    border-radius: 4px;
  }
  
  .best-practices h2 {
    color: #2e7d32;
    margin-top: 0;
  }
  
  .resources-section {
    margin: 3rem 0;
  }
  
  .resources-section a {
    color: #1976d2;
    text-decoration: none;
    border-bottom: 1px dotted;
    transition: color 0.2s ease;
  }
  
  .resources-section a:hover {
    color: #0d47a1;
  }
  
  @media (max-width: 768px) {
    .intro-section {
      flex-direction: column;
      text-align: center;
    }
    
    .accessibility-icon {
      margin-bottom: 1rem;
    }
  }
`}
</style>

