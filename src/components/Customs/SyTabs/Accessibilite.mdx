import { Meta, Title, Subtitle, Description, Primary, Controls, Stories } from '@storybook/blocks';
import * as SyTabsStories from './SyTabs.stories';
import AccessibilityIcon from '@/common/imgs/accessibility-svgrepo-com.svg';

<Meta of={SyTabsStories} />

<div className="accessibility-guide">
  <Title>Guide d'Accessibilit√© du Composant SyTabs</Title>
  
  <div className="intro-section">
    <img 
      src={AccessibilityIcon} 
      alt="Ic√¥ne d'accessibilit√©" 
      className="accessibility-icon"
    />
    <div className="intro-text">
      Le composant SyTabs a √©t√© con√ßu en suivant rigoureusement les recommandations d'accessibilit√© du W3C, 
      notamment le mod√®le <a href="https://www.w3.org/WAI/ARIA/apg/patterns/tabs/" target="_blank" rel="noopener noreferrer">WAI-ARIA pour les onglets</a>. 
      Ce guide d√©taille comment notre impl√©mentation respecte ces standards et garantit une exp√©rience utilisateur inclusive.
    </div>
  </div>

  <div className="criteria-section">
    <h2>Crit√®res d'accessibilit√© respect√©s</h2>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üîç</span>
        <h3>Structure s√©mantique</h3>
      </div>
      <ul>
        <li><strong>R√¥les ARIA appropri√©s</strong> : <code>role="tablist"</code> pour la liste d'onglets, <code>role="tab"</code> pour chaque onglet et <code>role="tabpanel"</code> pour chaque panneau de contenu</li>
        <li><strong>√âtat des onglets</strong> : <code>aria-selected</code> avec les valeurs <code>true</code> ou <code>false</code> pour indiquer l'onglet actif</li>
        <li><strong>Relations entre √©l√©ments</strong> : <code>aria-controls</code> pour associer chaque onglet √† son panneau, et <code>aria-labelledby</code> pour associer chaque panneau √† son onglet</li>
        <li><strong>Navigation structur√©e</strong> : Utilisation d'√©l√©ments <code>&lt;nav&gt;</code> et <code>&lt;ul&gt;</code> pour cr√©er une structure de navigation s√©mantique et accessible</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">‚å®Ô∏è</span>
        <h3>Navigation clavier compl√®te</h3>
      </div>
      <ul>
        <li><strong>Touche Tab</strong> : Navigation vers la liste d'onglets et sortie de celle-ci</li>
        <li><strong>Touches fl√©ch√©es</strong> : Navigation entre les onglets (gauche/droite)</li>
        <li><strong>Touches Home/End</strong> : Acc√®s direct au premier/dernier onglet</li>
        <li><strong>Touche Espace/Entr√©e</strong> : Activation de l'onglet actuellement focalis√©</li>
        <li><strong>Touche Escape</strong> : Sortie du contexte de navigation des onglets</li>
        <li><strong>Focus visible</strong> : Contour visuel distinct pour indiquer l'onglet actuellement focalis√©</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üì±</span>
        <h3>√âtats et retours d'information</h3>
      </div>
      <ul>
        <li><strong>√âtat de s√©lection</strong> : <code>aria-selected="true"</code> indique l'onglet actif aux technologies d'assistance</li>
        <li><strong>Visibilit√© des panneaux</strong> : L'attribut <code>hidden</code> sur les panneaux inactifs les rend invisibles aux lecteurs d'√©cran</li>
        <li><strong>Indication visuelle</strong> : Styles distinctifs pour l'onglet actif (couleur, bordure inf√©rieure)</li>
        <li><strong>Association explicite</strong> : Chaque panneau de contenu est clairement associ√© √† son onglet via <code>aria-labelledby</code></li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üé®</span>
        <h3>Personnalisation accessible</h3>
      </div>
      <ul>
        <li><strong>Contraste configurable</strong> : Options de couleurs pour garantir un contraste suffisant entre les onglets actifs/inactifs</li>
        <li><strong>Taille et espacement</strong> : Dimensions adapt√©es pour faciliter l'interaction tactile avec une hauteur minimale de 44px</li>
        <li><strong>Compatibilit√© avec le mode contraste √©lev√©</strong> : Utilisation de variables CSS pour s'adapter aux param√®tres syst√®me</li>
        <li><strong>Densit√© et th√®me</strong> : Options de personnalisation pour s'adapter aux diff√©rents contextes d'utilisation</li>
      </ul>
    </div>
  </div>

  <div className="automatic-section">
    <h2>Activation automatique des onglets</h2>
    <div className="section-description">
      Le composant SyTabs impl√©mente un mod√®le d'activation automatique, ce qui signifie que :
    </div>
    <ul>
      <li>La s√©lection d'un nouvel onglet via la navigation par fl√®ches active imm√©diatement cet onglet</li>
      <li>Le contenu du panneau associ√© est affich√© sans n√©cessiter une action suppl√©mentaire</li>
      <li>Le focus reste sur l'onglet activ√© pour permettre de continuer la navigation par clavier</li>
    </ul>
    <div className="section-description">
      Cette impl√©mentation suit les meilleures pratiques WAI-ARIA pour les interfaces √† onglets :
    </div>
    <ul>
      <li>R√©duction du nombre d'actions n√©cessaires pour naviguer entre les contenus</li>
      <li>Mise √† jour dynamique de l'attribut <code>aria-selected</code> pour informer des changements</li>
      <li>Gestion efficace du focus pour √©viter les sauts d'interface d√©sorientants</li>
      <li>Mise √† jour de l'affichage des panneaux avec l'attribut <code>hidden</code> pour les panneaux inactifs</li>
    </ul>
  </div>

  <div className="demo-section">
    <h2>D√©monstration interactive</h2>
    <div className="section-description">
      Explorez ci-dessous un exemple de SyTabs enti√®rement accessible. 
      Essayez de naviguer en utilisant uniquement votre clavier (Tab pour acc√©der √† la barre d'onglets, fl√®ches gauche/droite pour naviguer entre les onglets) pour tester l'accessibilit√©.
    </div>
    <Primary />
  </div>

  <div className="tab-panel-section">
    <h2>Relation onglet-panneau</h2>
    <div className="section-description">
      Le composant SyTabs √©tablit une relation claire entre chaque onglet et son panneau de contenu associ√© :
    </div>
    <ul>
      <li>Chaque onglet (<code>role="tab"</code>) est associ√© √† un panneau de contenu via <code>aria-controls</code></li>
      <li>Chaque panneau de contenu (<code>role="tabpanel"</code>) est associ√© √† son onglet via <code>aria-labelledby</code></li>
      <li>
        Les identifiants uniques garantissent que ces associations sont clairement √©tablies :
        <ul>
          <li>Onglets : <code>id="tab-&#123;index&#125;"</code></li>
          <li>Panneaux : <code>id="panel-&#123;index&#125;"</code></li>
        </ul>
      </li>
    </ul>
    <div className="section-description">
      Cette structure garantit que les utilisateurs de technologies d'assistance comprennent clairement la relation entre les onglets et leur contenu associ√©, am√©liorant ainsi la navigation et la compr√©hension de l'interface.
    </div>
  </div>

  <div className="best-practices">
    <h2>Bonnes pratiques d'utilisation</h2>
    <ul>
      <li>Utilisez des libell√©s clairs et concis pour chaque onglet, √©vitez les textes trop longs ou ambigu√´s</li>
      <li>Limitez le nombre d'onglets pour √©viter de surcharger l'interface et la navigation par clavier</li>
      <li>Organisez les onglets dans un ordre logique, avec les informations les plus importantes en premier</li>
      <li>Assurez-vous que la taille des onglets est suffisante pour faciliter l'interaction tactile (au moins 44px de hauteur)</li>
      <li>Maintenez une distinction visuelle claire entre l'onglet actif et les onglets inactifs</li>
      <li>√âvitez d'utiliser des onglets imbriqu√©s qui pourraient compliquer la navigation</li>
      <li>Conservez une coh√©rence dans le comportement et l'apparence des onglets √† travers l'application</li>
    </ul>
  </div>

  <div className="resources-section">
    <h2>Ressources suppl√©mentaires</h2>
    <ul>
      <li><a href="https://www.w3.org/WAI/ARIA/apg/patterns/tabs/" target="_blank" rel="noopener noreferrer">Guide des pratiques d'auteur WAI-ARIA pour les onglets</a></li>
      <li><a href="https://www.w3.org/WAI/ARIA/apg/patterns/tabs/examples/tabs-automatic/" target="_blank" rel="noopener noreferrer">Exemple d'onglets WAI-ARIA √† activation automatique</a></li>
      <li><a href="https://www.w3.org/TR/wai-aria-practices-1.2/#tabpanel" target="_blank" rel="noopener noreferrer">Pratiques recommand√©es WAI-ARIA 1.2 pour les panneaux √† onglets</a></li>
      <li><a href="https://www.w3.org/WAI/WCAG21/quickref/" target="_blank" rel="noopener noreferrer">R√©f√©rence rapide WCAG 2.1</a></li>
      <li><a href="https://www.w3.org/TR/wai-aria-1.2/#tab" target="_blank" rel="noopener noreferrer">Sp√©cification WAI-ARIA 1.2 pour le r√¥le tab</a></li>
    </ul>
  </div>
</div>

<style>
{`
  .accessibility-guide {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    color: #333;
  }

  .intro-section {
    display: flex;
    align-items: center;
    margin-bottom: 30px;
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border-left: 5px solid #0077cc;
  }

  .accessibility-icon {
    width: 60px;
    height: 60px;
    margin-right: 20px;
    flex-shrink: 0;
  }

  .intro-text {
    font-size: 1.1em;
    line-height: 1.6;
    margin: 0;
  }

  .criteria-section {
    margin-bottom: 40px;
  }

  .criteria-section h2,
  .demo-section h2,
  .tri-state-section h2,
  .parent-child-section h2,
  .best-practices h2,
  .resources-section h2 {
    border-bottom: 2px solid #eaecef;
    padding-bottom: 10px;
    margin-top: 30px;
    margin-bottom: 20px;
    color: #0077cc;
  }

  .criteria-card {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
  }

  .criteria-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
  }

  .criteria-icon {
    font-size: 1.8em;
    margin-right: 15px;
  }

  .criteria-header h3 {
    margin: 0;
    font-size: 1.3em;
    color: #0077cc;
  }

  .criteria-card ul {
    margin: 0;
    padding-left: 20px;
  }

  .criteria-card li {
    margin-bottom: 8px;
    line-height: 1.5;
  }

  .demo-section {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 40px;
  }

  .tri-state-section,
  .parent-child-section {
    background-color: #f0f7ff;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
  }

  .tri-state-section p,
  .parent-child-section p {
    line-height: 1.6;
  }

  .best-practices {
    background-color: #f5f5f5;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
  }

  .best-practices ul {
    padding-left: 20px;
  }

  .best-practices li {
    margin-bottom: 10px;
    line-height: 1.5;
  }

  .resources-section {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
  }

  .resources-section ul {
    padding-left: 20px;
  }

  .resources-section li {
    margin-bottom: 10px;
  }

  .resources-section a {
    color: #0077cc;
    text-decoration: none;
  }

  .resources-section a:hover {
    text-decoration: underline;
  }

  code {
    background-color: #f0f0f0;
    padding: 2px 5px;
    border-radius: 3px;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 0.9em;
  }
`}
</style>
