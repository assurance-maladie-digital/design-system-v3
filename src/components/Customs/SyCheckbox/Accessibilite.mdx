import { Meta, Title, Subtitle, Description, Primary, Controls, Stories } from '@storybook/blocks';
import * as SyCheckboxStories from './SyCheckbox.stories';
import AccessibilityIcon from '@/common/imgs/accessibility-svgrepo-com.svg';
import '../../../stories/styles/shared.css';

<Meta of={SyCheckboxStories} />

<div className="accessibility-guide">
<div className="header">
  <h1>Guide d'Accessibilit√© du Composant SyCheckbox</h1>
</div>
  
  <div className="intro-section">
    <img 
      src={AccessibilityIcon} 
      alt="Ic√¥ne d'accessibilit√©" 
      className="accessibility-icon"
    />
    <p className="intro-text">
      Le composant SyCheckbox a √©t√© con√ßu en suivant rigoureusement les recommandations d'accessibilit√© du W3C, 
      notamment le mod√®le <a href="https://www.w3.org/WAI/ARIA/apg/patterns/checkbox/examples/checkbox-mixed/" target="_blank" rel="noopener noreferrer">WAI-ARIA pour les cases √† cocher tri-√©tat</a>. 
      Ce guide d√©taille comment notre impl√©mentation respecte ces standards et garantit une exp√©rience utilisateur inclusive.
    </p>
</div>

  <div className="criteria-section">
    <h2>Crit√®res d'accessibilit√© respect√©s</h2>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üîç</span>
        <h3>Structure s√©mantique</h3>
      </div>
      <ul>
        <li><strong>R√¥les ARIA appropri√©s</strong> : <code>role="checkbox"</code> pour la case √† cocher</li>
        <li><strong>√âtat de la case √† cocher</strong> : <code>aria-checked</code> avec les valeurs <code>true</code>, <code>false</code> ou <code>mixed</code> pour l'√©tat ind√©termin√©</li>
        <li><strong>Relations entre √©l√©ments</strong> : <code>aria-controls</code> pour indiquer les √©l√©ments contr√¥l√©s par la case √† cocher parent</li>
        <li><strong>√âtiquetage explicite</strong> : Association claire entre la case √† cocher et son label</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">‚å®Ô∏è</span>
        <h3>Navigation clavier compl√®te</h3>
      </div>
      <ul>
        <li><strong>Touche Espace</strong> : Pour activer/d√©sactiver la case √† cocher</li>
        <li><strong>Touche Tab</strong> : Navigation s√©quentielle entre les cases √† cocher</li>
        <li><strong>Focus visible</strong> : Indication claire de l'√©l√©ment actuellement focalis√©</li>
        <li><strong>Gestion des √©tats multiples</strong> : Cycle entre les √©tats non coch√©, coch√© et ind√©termin√©</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üì±</span>
        <h3>√âtats et retours d'information</h3>
      </div>
      <ul>
        <li><strong>√âtat de s√©lection</strong> : <code>aria-checked</code> indique si la case est coch√©e, non coch√©e ou ind√©termin√©e</li>
        <li><strong>√âtat de d√©sactivation</strong> : <code>aria-disabled</code> signale les √©l√©ments non disponibles</li>
        <li><strong>Indication visuelle</strong> : Symboles distincts pour chaque √©tat (coch√©, non coch√©, ind√©termin√©)</li>
        <li><strong>Validation visuelle</strong> : Couleurs et ic√¥nes sp√©cifiques pour les √©tats d'erreur, d'avertissement et de succ√®s</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üé®</span>
        <h3>Personnalisation accessible</h3>
      </div>
      <ul>
        <li><strong>Contraste configurable</strong> : Options de couleurs pour garantir un contraste suffisant</li>
        <li><strong>Taille et espacement</strong> : Dimensions adapt√©es pour faciliter l'interaction tactile</li>
        <li><strong>Compatibilit√© avec le mode contraste √©lev√©</strong> : Utilisation de <code>currentColor</code> pour s'adapter aux param√®tres syst√®me</li>
        <li><strong>Densit√© ajustable</strong> : Options de densit√© pour s'adapter aux besoins des utilisateurs</li>
      </ul>
    </div>
  </div>

  <div className="tri-state-section">
    <h2>Fonctionnalit√© tri-√©tat (ind√©termin√©)</h2>
    <p>
      Le composant SyCheckbox prend en charge l'√©tat ind√©termin√©, particuli√®rement utile pour repr√©senter :
    </p>
    <ul>
      <li>Une s√©lection partielle d'√©l√©ments dans un groupe</li>
      <li>Un √©tat interm√©diaire avant que l'utilisateur ne fasse un choix d√©finitif</li>
      <li>Une relation parent-enfant o√π certains √©l√©ments enfants sont s√©lectionn√©s</li>
    </ul>
    <p>
      Conform√©ment aux recommandations WAI-ARIA, notre impl√©mentation de l'√©tat ind√©termin√© :
    </p>
    <ul>
      <li>Utilise l'attribut <code>aria-checked="mixed"</code> pour les lecteurs d'√©cran</li>
      <li>Fournit un indicateur visuel distinct pour l'√©tat ind√©termin√©</li>
      <li>G√®re correctement le cycle des √©tats lors de l'interaction utilisateur</li>
      <li>Maintient la coh√©rence entre l'√©tat parent et les √©tats des enfants</li>
    </ul>
  </div>

  <div className="demo-section">
    <h2>D√©monstration interactive</h2>
    <p>
      Explorez ci-dessous un exemple de SyCheckbox enti√®rement accessible avec √©tat ind√©termin√©. 
      Essayez de naviguer en utilisant uniquement votre clavier (Tab pour naviguer, Espace pour activer) pour tester l'accessibilit√©.
    </p>
    <Primary />
  </div>

  <div className="parent-child-section">
    <h2>Relation parent-enfant</h2>
    <p>
      Le composant SyCheckbox permet de cr√©er des relations parent-enfant entre les cases √† cocher, o√π :
    </p>
    <ul>
      <li>La case √† cocher parent contr√¥le l'√©tat de toutes les cases √† cocher enfants</li>
      <li>L'√©tat de la case √† cocher parent refl√®te l'√©tat collectif des enfants :</li>
      <ul>
        <li>Coch√©e : tous les enfants sont coch√©s</li>
        <li>Non coch√©e : aucun enfant n'est coch√©</li>
        <li>Ind√©termin√©e : certains enfants sont coch√©s, d'autres non</li>
      </ul>
    </ul>
    <p>
      Cette relation est √©tablie via la propri√©t√© <code>controlsIds</code> qui liste les identifiants des cases √† cocher enfants.
    </p>
</div>

  <div className="best-practices">
    <h2>Bonnes pratiques d'utilisation</h2>
    <ul>
      <li>Utilisez des libell√©s clairs et concis pour d√©crire l'action associ√©e √† la case √† cocher</li>
      <li>Regroupez les cases √† cocher li√©es dans un fieldset avec une l√©gende explicative</li>
      <li>√âvitez de modifier l'√©tat d'une case √† cocher automatiquement sans action utilisateur explicite</li>
      <li>Assurez-vous que la taille de la zone cliquable est suffisante (au moins 44√ó44 pixels pour les interfaces tactiles)</li>
      <li>Utilisez l'√©tat ind√©termin√© uniquement pour indiquer une s√©lection partielle, pas un troisi√®me √©tat fonctionnel</li>
      <li>Fournissez un retour visuel et textuel clair pour les erreurs de validation</li>
    </ul>
  </div>

  <div className="resources-section">
    <h2>Ressources suppl√©mentaires</h2>
    <ul>
      <li><a href="https://www.w3.org/WAI/ARIA/apg/patterns/checkbox/" target="_blank" rel="noopener noreferrer">Guide des pratiques d'auteur WAI-ARIA pour les cases √† cocher</a></li>
      <li><a href="https://www.w3.org/WAI/ARIA/apg/patterns/checkbox/examples/checkbox-mixed/" target="_blank" rel="noopener noreferrer">Exemple de case √† cocher tri-√©tat WAI-ARIA</a></li>
      <li><a href="https://www.w3.org/WAI/WCAG21/quickref/" target="_blank" rel="noopener noreferrer">R√©f√©rence rapide WCAG 2.1</a></li>
      <li><a href="https://www.w3.org/TR/wai-aria-1.2/#checkbox" target="_blank" rel="noopener noreferrer">Sp√©cification WAI-ARIA 1.2 pour le r√¥le checkbox</a></li>
    </ul>
  </div>
</div>

<style>
{`
  .accessibility-guide {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    color: #333;
  }

  .intro-section {
    display: flex;
    align-items: center;
    margin-bottom: 30px;
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border-left: 5px solid #0077cc;
  }

  .accessibility-icon {
    width: 60px;
    height: 60px;
    margin-right: 20px;
    flex-shrink: 0;
  }

  .intro-text {
    font-size: 1.1em;
    line-height: 1.6;
    margin: 0;
  }

  .criteria-section {
    margin-bottom: 40px;
  }

  .criteria-section h2,
  .demo-section h2,
  .tri-state-section h2,
  .parent-child-section h2,
  .best-practices h2,
  .resources-section h2 {
    border-bottom: 2px solid #eaecef;
    padding-bottom: 10px;
    margin-top: 30px;
    margin-bottom: 20px;
    color: #0077cc;
  }

  .criteria-card {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
  }

  .criteria-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
  }

  .criteria-icon {
    font-size: 1.8em;
    margin-right: 15px;
  }

  .criteria-header h3 {
    margin: 0;
    font-size: 1.3em;
    color: #0077cc;
  }

  .criteria-card ul {
    margin: 0;
    padding-left: 20px;
  }

  .criteria-card li {
    margin-bottom: 8px;
    line-height: 1.5;
  }

  .demo-section {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 40px;
  }

  .tri-state-section,
  .parent-child-section {
    background-color: #f0f7ff;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
  }

  .tri-state-section p,
  .parent-child-section p {
    line-height: 1.6;
  }

  .best-practices {
    background-color: #f5f5f5;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
  }

  .best-practices ul {
    padding-left: 20px;
  }

  .best-practices li {
    margin-bottom: 10px;
    line-height: 1.5;
  }

  .resources-section {
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
  }

  .resources-section ul {
    padding-left: 20px;
  }

  .resources-section li {
    margin-bottom: 10px;
  }

  .resources-section a {
    color: #0077cc;
    text-decoration: none;
  }

  .resources-section a:hover {
    text-decoration: underline;
  }

  code {
    background-color: #f0f0f0;
    padding: 2px 5px;
    border-radius: 3px;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 0.9em;
  }
`}
</style>
