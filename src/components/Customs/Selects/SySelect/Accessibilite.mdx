import { Meta, Story } from '@storybook/addon-docs';
import * as AccessStories from './Accessibilite.stories.ts';
import AccessibilityIcon from '@/common/imgs/accessibility-svgrepo-com.svg';
import '../../../../stories/styles/shared.css';

<Meta of={AccessStories} />

<div className="accessibility-guide">
  <h1>Guide d'Accessibilit√© du Composant SySelect</h1>
  
  <div className="intro-section">
    <img 
      src={AccessibilityIcon} 
      alt="Ic√¥ne d'accessibilit√©" 
      className="accessibility-icon"
    />
    <p className="intro-text">
      Le composant SySelect a √©t√© con√ßu en suivant rigoureusement les recommandations d'accessibilit√© du W3C, 
      notamment le mod√®le <a href="https://www.w3.org/WAI/ARIA/apg/patterns/combobox/examples/combobox-select-only/" target="_blank" rel="noopener noreferrer">WAI-ARIA pour les combobox select-only</a>. 
      Ce guide d√©taille comment notre impl√©mentation respecte ces standards et garantit une exp√©rience utilisateur inclusive.
    </p>
</div>

  <div className="criteria-section">
    <h2>Crit√®res d'accessibilit√© respect√©s</h2>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üîç</span>
        <h3>Structure s√©mantique</h3>
      </div>
      <ul>
        <li><strong>R√¥les ARIA appropri√©s</strong> : <code>role="combobox"</code> sur l'input, <code>role="listbox"</code> sur le menu d√©roulant</li>
        <li><strong>Relations entre √©l√©ments</strong> : <code>aria-controls</code> pour lier le combobox au listbox</li>
        <li><strong>Type d'interaction</strong> : <code>aria-haspopup="listbox"</code> et <code>aria-autocomplete="list"</code></li>
        <li><strong>√âtat du menu</strong> : <code>aria-expanded</code> indique si le menu est ouvert ou ferm√©</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">‚å®Ô∏è</span>
        <h3>Navigation clavier compl√®te</h3>
      </div>
      <ul>
        <li><strong>Fl√®ches haut/bas</strong> : Navigation entre les options sans modifier la s√©lection</li>
        <li><strong>Entr√©e</strong> : S√©lection de l'option active et fermeture du menu</li>
        <li><strong>√âchap</strong> : Fermeture du menu sans modifier la s√©lection</li>
        <li><strong>Caract√®res imprimables</strong> : Navigation vers l'option commen√ßant par le(s) caract√®re(s) saisi(s)</li>
      </ul>
    </div>
    
    <div className="criteria-card">
      <div className="criteria-header">
        <span className="criteria-icon">üì±</span>
        <h3>√âtats et retours d'information</h3>
      </div>
      <ul>
        <li><strong>S√©lection active</strong> : <code>aria-activedescendant</code> indique l'option active pendant la navigation</li>
        <li><strong>Option s√©lectionn√©e</strong> : <code>aria-selected="true"</code> sur l'option s√©lectionn√©e</li>
        <li><strong>√âtat de validation</strong> : <code>aria-required="true"</code> et <code>aria-invalid="true"</code> pour les champs obligatoires et en erreur</li>
        <li><strong>Scroll automatique</strong> : Les options sont automatiquement scroll√©es dans la vue lors de la navigation</li>
      </ul>
    </div>
  </div>

  <div className="keyboard-section">
    <h2>D√©tail de la navigation clavier</h2>
    <Story of={AccessStories.ComboboxKeyboardNavigation} />
  </div>

  <div className="implementation-section">
    <h2>Sp√©cificit√©s d'impl√©mentation</h2>
    <p>
      Conform√©ment aux recommandations WAI-ARIA pour les combobox select-only, notre impl√©mentation :
    </p>
    <ul>
      <li>Maintient le focus DOM sur l'input combobox pendant toute l'interaction</li>
      <li>Utilise <code>aria-activedescendant</code> pour indiquer l'option active aux technologies d'assistance</li>
      <li>S√©pare clairement la navigation (fl√®ches) de la s√©lection (Entr√©e)</li>
      <li>G√®re correctement les √©tats visuels et programmatiques des options</li>
    </ul>
  </div>
</div>

<div className="accessibility-guide">
<div className="header">
  <h1>Accessibilit√©</h1>
  <p>Informations sur l'accessibilit√© du composant</p>
</div>

<Story of={AccessStories.Legende} />
<br />

--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
<Story of={AccessStories.AccessibilitePanel} />
<br />
</div>

<style>
{
`
  .accessibility-guide {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    color: #333;
  }

  .intro-section {
    display: flex;
    align-items: center;
    margin-bottom: 30px;
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    border-left: 5px solid #0077cc;
  }

  .accessibility-icon {
    width: 60px;
    height: 60px;
    margin-right: 20px;
    flex-shrink: 0;
  }

  .intro-text {
    font-size: 1.1em;
    line-height: 1.6;
    margin: 0;
  }

  .criteria-section {
    margin-bottom: 40px;
  }

  .criteria-section h2,
  .keyboard-section h2,
  .implementation-section h2 {
    border-bottom: 2px solid #eaecef;
    padding-bottom: 10px;
    margin-top: 30px;
    margin-bottom: 20px;
    color: #0077cc;
  }

  .criteria-card {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    margin-bottom: 20px;
  }

  .criteria-header {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
  }

  .criteria-icon {
    font-size: 1.8em;
    margin-right: 15px;
  }

  .criteria-header h3 {
    margin: 0;
    font-size: 1.3em;
    color: #0077cc;
  }

  .criteria-card ul {
    margin: 0;
    padding-left: 20px;
  }

  .criteria-card li {
    margin-bottom: 8px;
    line-height: 1.5;
  }

  .keyboard-section {
    background-color: #f0f7ff;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
  }

  .implementation-section {
    background-color: #f5f5f5;
    padding: 20px;
    border-radius: 8px;
    margin-bottom: 30px;
  }

  .implementation-section ul {
    padding-left: 20px;
  }

  .implementation-section li {
    margin-bottom: 10px;
    line-height: 1.5;
  }

  code {
    background-color: #f0f0f0;
    padding: 2px 5px;
    border-radius: 3px;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 0.9em;
  }
`
}
</style>