import { Meta, Title, Subtitle, Description, Primary, Controls, Stories, Canvas } from '@storybook/blocks'
import * as SyIconStoriesAccessibility from './Accessibilite.stories'
import SyIconAccessibility from './SyIconAccessibility.vue'

<Meta of={SyIconStoriesAccessibility} />

# ğŸŒ AccessibilitÃ© des icÃ´nes

<Subtitle>
	Guide d'accessibilitÃ© pour l'utilisation des icÃ´nes dans le Design System
</Subtitle>

<div className="tip-wrapper" style={{ background: '#f8f9fa', padding: '20px', borderRadius: '5px', marginBottom: '20px' }}>
  <div style={{ fontWeight: 'bold', marginBottom: '10px' }}>ğŸ’¡ Pourquoi l'accessibilitÃ© des icÃ´nes est importante</div>
  <p>
    Les icÃ´nes amÃ©liorent l'expÃ©rience utilisateur, mais doivent Ãªtre accessibles Ã  tous, y compris aux personnes utilisant des technologies d'assistance.
  </p>
</div>

## ğŸ” Principes gÃ©nÃ©raux

Le composant `SyIcon` implÃ©mente automatiquement les bonnes pratiques d'accessibilitÃ© en fonction de la nature de l'icÃ´ne :

<div style={{ display: 'flex', gap: '20px', marginBottom: '20px' }}>
  <div style={{ flex: 1, border: '1px solid #e0e0e0', borderRadius: '5px', padding: '15px' }}>
    <h3>ğŸ“Œ IcÃ´nes dÃ©coratives</h3>
    <p><em>Invisibles pour les lecteurs d'Ã©cran</em></p>
    
    ```vue
    <!-- IcÃ´ne dÃ©corative (par dÃ©faut) -->
    <SyIcon 
    :icon="mdi-home" 
    />
    ```
    
    <div style={{ background: '#f5f5f5', padding: '10px', borderRadius: '4px', marginTop: '78px' }}>
      <strong>Attributs ARIA gÃ©nÃ©rÃ©s :</strong>
      <ul>
        <li><code>role="presentation"</code></li>
        <li><code>aria-hidden="true"</code></li>
      </ul>
    </div>
  </div>
  
  <div style={{ flex: 1, border: '1px solid #e0e0e0', borderRadius: '5px', padding: '15px' }}>
    <h3>ğŸ”Š IcÃ´nes informatives</h3>
    <p><em>AnnoncÃ©es par les lecteurs d'Ã©cran</em></p>
    
    ```vue
    <!-- IcÃ´ne informative avec label -->
    <SyIcon 
      :icon="mdi-information" 
      :decorative="false" 
      label="Information importante" 
    />
    ```
    
    <div style={{ background: '#f5f5f5', padding: '10px', borderRadius: '4px' }}>
      <strong>Attributs ARIA gÃ©nÃ©rÃ©s :</strong>
      <ul>
        <li><code>role="img"</code></li>
        <li><code>aria-label="Information importante"</code></li>
      </ul>
    </div>
  </div>
</div>

## ğŸ§ª DÃ©monstration interactive

La dÃ©monstration ci-dessous vous permet de voir comment les attributs d'accessibilitÃ© sont gÃ©nÃ©rÃ©s en fonction des propriÃ©tÃ©s du composant :

<Canvas of={SyIconStoriesAccessibility.AccessibilityDemo} />

## âœ… Bonnes pratiques

<div style={{ background: '#edf7ed', padding: '15px', borderRadius: '5px', borderLeft: '4px solid #4caf50', marginBottom: '20px' }}>
  <h4 style={{ marginTop: '0' }}>ğŸ“‹ Recommandations</h4>
  <ul style={{ paddingLeft: '20px' }}>
    <li><strong>Toujours fournir un label</strong> lorsque l'icÃ´ne est informative (<code>decorative="false"</code>)</li>
    <li><strong>Utiliser des labels explicites</strong> qui dÃ©crivent clairement la fonction de l'icÃ´ne</li>
    <li><strong>Ã‰viter les icÃ´nes seules</strong> pour les actions importantes - combinez-les avec du texte visible</li>
    <li><strong>Maintenir un bon contraste</strong> entre l'icÃ´ne et son arriÃ¨re-plan</li>
  </ul>
</div>

## ğŸ”’ ConformitÃ© RGAA

<div style={{ background: '#e8f4fd', padding: '15px', borderRadius: '5px', borderLeft: '4px solid #2196f3', marginBottom: '20px' }}>
  <p style={{ margin: '0' }}>
    Le composant <code>SyIcon</code> utilise la directive <code>v-rgaa-svg-fix</code> qui assure la compatibilitÃ© 
    avec les lecteurs d'Ã©cran en appliquant les correctifs nÃ©cessaires aux SVG.
  </p>
  <p style={{ marginTop: '10px', marginBottom: '0' }}>
    <strong>Important :</strong> Tous les Ã©lÃ©ments SVG ont systÃ©matiquement l'attribut <code>aria-hidden="true"</code> et 
    n'ont jamais l'attribut <code>role="img"</code>, indÃ©pendamment du type d'icÃ´ne. La sÃ©mantique d'accessibilitÃ© 
    est gÃ©rÃ©e uniquement au niveau de l'Ã©lÃ©ment conteneur (<code>&lt;i&gt;</code>).
  </p>
</div>

## ğŸ“š Ressources

- [Guide d'accessibilitÃ© WAI-ARIA pour les images et icÃ´nes](https://www.w3.org/WAI/ARIA/apg/patterns/)
- [RGAA - RÃ©fÃ©rentiel GÃ©nÃ©ral d'AmÃ©lioration de l'AccessibilitÃ©](https://www.numerique.gouv.fr/publications/rgaa-accessibilite/)
