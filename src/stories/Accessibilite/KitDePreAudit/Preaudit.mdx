import {Meta} from '@storybook/blocks';
import '../../styles/shared.css';

<Meta title="Accessibilit√©/Kit de pr√©-audit/Pr√©-audit"/>

<style>
{
`
  :root {
    --primary: #0c419a;
    --primary-light: rgba(0, 120, 212, 0.1);
    --primary-dark: #005a9e;
    --secondary: #0c419a;
    --secondary-light: #e3e8f2;
    --secondary-dark: #0c419a;
    --neutral-100: #ffffff;
    --neutral-200: #f8f9fa;
    --neutral-300: #eaeaea;
    --neutral-400: #d1d1d1;
    --neutral-500: #a0a0a0;
    --neutral-600: #6e6e6e;
    --neutral-700: #3d3d3d;
    --neutral-800: #1f1f1f;
    --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.05);
    --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --transition: all 0.3s ease;
  }

        
  
  .info-section {
    margin: 2.5rem 0;
    padding: 2rem;
    background-color: var(--neutral-100);
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    border: 1px solid var(--neutral-300);
  }
  
  .info-section h2 {
    position: relative;
    padding-bottom: 0.75rem;
    margin-top: 0;
    color: var(--primary);
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  .info-section h2::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 60px;
    height: 3px;
      
    border-radius: 3px;
  }
  
  .alert {
    background-color: var(--secondary-light);
    border-left: 4px solid var(--secondary);
    padding: 1.25rem 1.5rem;
    margin: 1.75rem 0;
    border-radius: var(--radius-sm);
    position: relative;
  }
  
  .alert strong {
    color: var(--secondary-dark);
  }
  
  .verification-card {
    background-color: var(--neutral-200);
    border: 1px solid var(--neutral-300);
    padding: 1.75rem;
    margin-bottom: 2rem;
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-sm);
    transition: var(--transition);
    position: relative;
  }
  
  .verification-card::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    height: 100%;
    width: 4px;
    background: linear-gradient(to bottom, var(--primary), var(--primary-light));
    border-radius: var(--radius-sm) 0 0 var(--radius-sm);
  }
  
  .verification-card h3 {
    color: var(--primary);
    margin-top: 0;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-weight: 600;
    font-size: 1.4rem;
  }
  
  .verification-steps {
    padding-left: 1.75rem;
  }
  
  .verification-steps h5 {
    color: var(--primary-dark);
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    font-size: 1.1rem;
  }
  
  .verification-steps li {
    margin-bottom: 0.75rem;
    position: relative;
    padding-left: 0.5rem;
  }
  
  .verification-steps li::before {
    color: var(--primary);
    font-weight: bold;
    display: inline-block;
    width: 1em;
    margin-left: -1em;
  }
  
  .highlight {
    background-color: var(--primary-light);
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
    font-weight: 500;
    color: var(--primary-dark);
  }
  
  .contact-info {
    background: linear-gradient(135deg, #f0f7ff 0%, #e6f0ff 100%);
    border-radius: var(--radius-md);
    padding: 1.75rem;
    margin: 1.75rem 0;
    border: 1px solid #d9e8ff;
    position: relative;
  }
  
  .contact-info h3 {
    color: var(--primary-dark);
    margin-top: 0;
    display: flex;
    align-items: center;
    gap: 0.5rem;
  }
  
  code {
    background-color: var(--neutral-200);
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 0.9em;
    color: var(--primary-dark);
    border: 1px solid var(--neutral-300);
  }
  
  a {
    color: var(--primary);
    text-decoration: none;
    font-weight: 500;
    transition: var(--transition);
    border-bottom: 1px solid transparent;
  }
  
  a:hover {
    color: var(--primary-dark);
    border-bottom: 1px solid var(--primary);
  }
`
}
</style>

<div className="header">
  <h1>Pr√©-audit d'accessibilit√©</h1>
  <p>V√©rifiez la conformit√© de votre service web avant l'audit officiel</p>
</div>

<div className="info-section">
  <h2>üåü Objectif</h2>
  <p>L'objectif du pr√©-audit est d'atteindre en semi-autonomie un premier palier de conformit√© de votre service web avant de convenir d'un r√©el audit <abbr title="R√©f√©rentiel G√©n√©ral d'Am√©lioration de l'Accessibilit√©">RGAA</abbr>.</p>
  
  <p>Pour prouver ce palier et √™tre √©ligible √† la demande d'audit complet vous devez compl√©ter <a href="/documents/Checklist_pre-audit_CNAM_NOM_DU_PRODUIT.xlsx" target="_blank">ce fichier</a> qui mentionne les exigences requises par la v√©rification assist√©e des outils automatis√©s et la v√©rification manuelle.</p>
</div>

<div className="contact-info">
  <h3>üì¨ Contact et assistance</h3>
  <p>Dans le cas o√π vous rencontrez une difficult√© avec un test, un crit√®re ou un outil n'h√©sitez pas √† nous contacter via l'adresse <a href="mailto:valentin.becquet@assurance-maladie.fr">valentin.becquet@assurance-maladie.fr</a> (cette adresse √©voluera prochainement).</p>
  
  <p>Pour demander un audit, contactez √©galement cette adresse. L'acceptance de la demande est soumise √† la d√©monstration de l'effort engag√© par l'√©quipe-produit. Cette appr√©ciation fera l'objet d'une discussion.</p>
</div>

<div className="alert">
  <p><strong>üîî Rappel important :</strong> Avant de lancer votre pr√©-audit, vous devez d√©finir l'√©chantillon de votre audit. Vous trouverez toutes les informations associ√©es <a href="/docs/accessibilit%C3%A9-kit-de-pr%C3%A9-audit-%C3%A9chantillonnage--docs">ici</a>.</p>
</div>

<div className="info-section">
  <h2>üîç V√©rification assist√©e des outils automatis√©s</h2>
  
  <div className="verification-card">
    <h3>üì¶ Utilisation de Tanaguru</h3>
    <p>Lancez Tanaguru sur chaque page de l'√©chantillon de test. Vous pouvez retrouver une documentation d'utilisation de Tanaguru <a href="/docs/accessibilit%C3%A9-kit-de-pr%C3%A9-audit-outils-tanaguru--docs">ici</a>.</p>
    
    <div className="alert">
      <p><strong>Capacit√© de l'outil :</strong> Tanaguru peut contr√¥ler <span className="highlight">158 tests sur les 258</span> du <abbr title="R√©f√©rentiel G√©n√©ral d'Am√©lioration de l'Accessibilit√©">RGAA</abbr>.</p>
    </div>
    
    <p>Les exigences du pr√©-audit sont respect√©es d√®s lors que vous atteignez un minimum d'erreur en lan√ßant les tests automatis√©s avec Tanaguru. Ce seuil est volontairement sujet √† discussion pour ne pas bloquer les produits en cas de grande complexit√©.</p>
    
    <p>Dans le cas o√π un test est pr√©sent√© en r√©sultat "non conforme" pour la demande d'audit, une justification devra √™tre apport√©e pour motiver l'√©ligibilit√© du produit.</p>
  </div>
</div>

<div className="info-section">
  <h2>üë§ V√©rification manuelle</h2>
  
  <p>L'objectif est de v√©rifier chacun des 8 points suivants pour chaque page de l'√©chantillon de test.</p>
  
  <div className="alert">
    <p><strong>Notation :</strong> Au sein de la check-list, il faudra choisir entre <span className="highlight">"Conforme"</span>, <span className="highlight">"Non conforme"</span>, <span className="highlight">"Non applicable"</span>, <span className="highlight">"D√©rog√©"</span> ou <span className="highlight">"Non test√©"</span> pour chacun des crit√®res.</p>
    <p>Il est possible d'ajouter un commentaire pour expliciter les erreurs relev√©es, des recommandations ou d'√©ventuelles questions.</p>
  </div>
</div>

<div className="verification-card">
  <h3>‚å®Ô∏è 1. Navigation au clavier</h3>
  
  <p>Testez que toutes les parties de votre site sont enti√®rement navigables √† l'aide du clavier (touche Tab pour se d√©placer, Shift+Tab pour revenir en arri√®re, Entr√©e pour activer un √©l√©ment, Espace pour les actions interactives comme les boutons).</p>
  
  <h4>V√©rification manuelle :</h4>
  <ul className="verification-steps">
    <li>Naviguez sur toutes les sections du site uniquement avec le clavier.</li>
    <li>Testez tous les √©l√©ments interactifs : menus, formulaires, liens, boutons, carrousels, fen√™tres modales, etc.</li>
    <li>Assurez-vous que les menus d√©roulants s'ouvrent avec le clavier et que vous pouvez acc√©der √† tous les champs de formulaire et boutons sans difficult√©.</li>
    <li>V√©rifiez qu'aucun pi√®ge au clavier n'existe (boucle, etc.)</li>
  </ul>
  
  <div className="alert">
    <p><strong>Exemple :</strong> V√©rifiez si un utilisateur peut remplir un formulaire de contact en utilisant uniquement les touches de tabulation.</p>
  </div>
</div>

<div className="verification-card">
  <h3>üì∫ 2. √âl√©ments visuels et d√©clenchements automatiques</h3>
  
  <p>V√©rifiez que les animations, transitions et autres √©l√©ments visuels peuvent √™tre arr√™t√©s, mis en pause ou d√©sactiv√©s par l'utilisateur.</p>
  
  <h4>V√©rification manuelle :</h4>
  <ul className="verification-steps">
    <li>Identifiez tous les √©l√©ments qui bougent, clignotent ou se mettent √† jour automatiquement sur votre site.</li>
    <li>V√©rifiez que ces √©l√©ments peuvent √™tre arr√™t√©s ou mis en pause par l'utilisateur.</li>
    <li>Assurez-vous qu'aucun contenu ne clignote plus de trois fois par seconde (risque de crises d'√©pilepsie).</li>
  </ul>
  
  <div className="alert">
    <p><strong>Exemple :</strong> Un carrousel d'images doit pouvoir √™tre arr√™t√© ou ralenti par l'utilisateur.</p>
  </div>
</div>

<div className="verification-card">
  <h3>üîó 3. Pertinence des liens et des boutons</h3>
  
  <p>Le texte des liens et des boutons doit √™tre explicite, clair et contextuel, en √©vitant les termes g√©n√©riques comme "Cliquez ici" ou "En savoir plus".</p>
  
  <h4>V√©rification manuelle :</h4>
  <ul className="verification-steps">
    <li>Parcourez tous les liens et boutons du site.</li>
    <li>V√©rifiez que chaque lien ou bouton a un intitul√© qui d√©crit clairement sa fonction ou sa destination.</li>
    <li>Assurez-vous que les liens vers des documents t√©l√©chargeables indiquent le format et la taille du fichier.</li>
  </ul>
  
  <div className="alert">
    <p><strong>Exemple :</strong> Au lieu de "Cliquez ici", pr√©f√©rez "T√©l√©charger le formulaire d'inscription (PDF, 1,2 Mo)".</p>
  </div>
</div>

<div className="verification-card">
  <h3>üìù 4. Formulaires</h3>
  
  <p>Assurez-vous que tous les √©l√©ments d'un formulaire sont accessibles et compr√©hensibles pour les utilisateurs, y compris ceux qui utilisent des technologies d'assistance (lecteurs d'√©cran, commandes vocales, etc.).</p>
  
  <h4>V√©rification manuelle :</h4>
  
  <div className="verification-steps">
    <h5>1. Labels associ√©s aux champs</h5>
    <ul>
      <li>V√©rifiez que chaque champ de formulaire a un label explicite et associ√© correctement, en utilisant les balises <code>&lt;label&gt;</code> avec l'attribut <code>for</code> correspondant √† l'<code>id</code> du champ de saisie.</li>
      <li>Consultez <a href="https://accessibilite.numerique.gouv.fr/methode/criteres-et-tests/#11.2">le crit√®re RGAA 11.2</a> pour en savoir plus sur la pertinence d'une √©tiquette associ√©e √† un champ de formulaire.</li>
    </ul>
    <div className="alert">
      <p><strong>Exemple :</strong> Pour un champ de saisie de nom, assurez-vous qu'il est bien associ√© √† un label : <code>&lt;label for="nom"&gt;Nom :&lt;/label&gt; &lt;input type="text" id="nom"&gt;</code>.</p>
    </div>
    
    <h5>2. Messages d'erreur et validation</h5>
    <ul>
      <li>V√©rifiez que des messages d'erreur sont clairement associ√©s aux champs en cas de saisie incorrecte.</li>
      <li>Testez que ces messages d'erreur sont visibles, compr√©hensibles et bien positionn√©s.</li>
      <li>V√©rifiez √©galement qu'ils sont annonc√©s par le lecteur d'√©cran.</li>
    </ul>
    
    <h5>3. Groupes de champs et aide contextuelle</h5>
    <ul>
      <li>V√©rifiez que les champs sont regroup√©s de mani√®re logique, avec des titres ou des instructions claires pour chaque section.</li>
      <li>Assurez-vous que des indices ou des descriptions contextuelles sont fournis pour aider l'utilisateur.</li>
    </ul>
    
    <h5>4. Focus visuel</h5>
    <ul>
      <li>Testez que le focus visuel est bien visible lorsqu'un utilisateur navigue au clavier entre les champs du formulaire.</li>
    </ul>
  </div>
</div>

<div className="verification-card">
  <h3>üìÉ 5. Tableaux accessibles</h3>
  
  <p>V√©rifiez que les tableaux de donn√©es sont bien structur√©s avec des balises <code>&lt;th&gt;</code> pour les en-t√™tes et des descriptions de colonnes et lignes claires, permettant une navigation facile pour les utilisateurs de lecteurs d'√©cran.</p>
  
  <h4>V√©rification manuelle :</h4>
  <ul className="verification-steps">
    <li>Identifiez tous les tableaux de donn√©es sur le site.</li>
    <li>V√©rifiez que les cellules d'en-t√™te sont correctement marqu√©es avec des balises <code>&lt;th&gt;</code> et non des balises <code>&lt;td&gt;</code> stylis√©es.</li>
    <li>Assurez-vous que les tableaux complexes ont des attributs <code>scope</code> ou des associations entre cellules d'en-t√™te et cellules de donn√©es.</li>
  </ul>
  
  <div className="alert">
    <p><strong>Exemple :</strong> Pour un tableau listant des produits avec leurs prix, assurez-vous que les en-t√™tes de colonnes ("Produit", "Prix", etc.) sont marqu√©es avec des balises <code>&lt;th&gt;</code> et non des balises <code>&lt;td&gt;</code> stylis√©es.</p>
  </div>
</div>

<div className="verification-card">
  <h3>üì¨ 6. Langue de la page</h3>
  
  <p>V√©rifiez que la langue du contenu principal de la page est correctement d√©finie avec l‚Äôattribut `lang` dans l'√©l√©ment `<html>`, ce qui permet aux technologies d‚Äôassistance de prononcer le texte dans la langue correcte.</p>
  
  <h4>V√©rification manuelle :</h4>
  <ul className="verification-steps">
    <li>Inspectez le code source de la page (clic droit > "Inspecter" dans le navigateur) et v√©rifiez que l‚Äôattribut `lang="fr"` (ou la langue correspondante) est bien pr√©sent dans l‚Äô√©l√©ment `<html>`. S‚Äôil s‚Äôagit d‚Äôune autre langue, elle doit √™tre pertinente ([voir documentation MDN sur l‚Äôattribut lang](https://developer.mozilla.org/fr/docs/Web/HTML/Global_attributes/lang))</li>
    <li>Exemple : Si votre site est en fran√ßais, l'√©l√©ment `<html>` devrait √™tre : `<html lang="fr">`.</li>
  </ul>
</div>

<div className="verification-card">
  <h3>üìÑ 7. Titre de la page</h3>
  
  <p>Le titre de chaque page (`<title>`) doit √™tre descriptif, unique et pertinent par rapport au contenu de la page.</p>
  
  <h4>V√©rification manuelle :</h4>
  <ul className="verification-steps">
    <li>Ouvrez chaque page du site et lisez le titre affich√© dans l'onglet du navigateur.</li>
    <li>V√©rifiez que le titre est sp√©cifique √† la page (par exemple, "Page d'accueil" pour la page d'accueil, "Contactez-nous" pour la page de contact).</li>
    <li>Exemple : Le titre de la page sur un annuaire pourrait √™tre "Annuaire - [Nom du service]" et non "Page 1".</li>
  </ul>
</div>

<div className="verification-card">
  <h3>üìπ 8. Acc√®s aux contenus multim√©dia</h3>
  
  <p>V√©rifiez que les vid√©os et autres contenus multim√©dia sont accessibles, notamment en fournissant des sous-titres, des transcriptions ou d‚Äôautres alternatives textuelles.</p>
  
  <h4>V√©rification manuelle :</h4>
  <ul className="verification-steps">
    <li>Testez les vid√©os du site pour v√©rifier si elles proposent des sous-titres ou des transcriptions disponibles.</li>
    <li>Assurez-vous que les lecteurs vid√©o permettent l‚Äôactivation des sous-titres et que ces derniers sont synchronis√©s avec le contenu audio.</li>
    <li>Exemple : Si une vid√©o pr√©sente une interview, v√©rifiez qu‚Äôune transcription compl√®te ou des sous-titres sont fournis pour les utilisateurs sourds ou malentendants.</li>
  </ul>
</div>

<div className="info-section">
  <h2>üí¨ Conclusion</h2>
  
  <p>En suivant ces v√©rifications manuelles et automatis√©es, vous pourrez atteindre un premier niveau de conformit√© d'accessibilit√© pour votre service web. N'h√©sitez pas √† documenter vos r√©sultats et √† solliciter de l'aide si n√©cessaire.</p>
  
  <div className="alert">
    <p><strong>Rappel :</strong> Compl√©tez <a href="/documents/Checklist_pre-audit_CNAM_NOM_DU_PRODUIT.xlsx" target="_blank">le fichier de check-list</a> pour chaque page de votre √©chantillon afin de prouver votre niveau de conformit√©.</p>
  </div>
</div>