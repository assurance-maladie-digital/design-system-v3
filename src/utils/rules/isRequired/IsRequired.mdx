import { Meta, Canvas } from '@storybook/blocks';
import * as IsRequiredStories from './IsRequired.stories';

<Meta of={IsRequiredStories} />

# Règle de validation `isRequired`

La règle de validation `isRequired` permet de vérifier qu'un champ de formulaire est rempli.

## Usage

Pour utiliser cette règle de validation, vous devez importer la fonction d'ordre supérieur `isRequiredFn` depuis le package `@cnamts/synapse`.

```javascript
import { isRequiredFn } from '@cnamts/synapse';
```

Vous devez ensuite faire appel à cette fonction pour obtenir la règle de validation.

```javascript
const isRequired = isRequiredFn(/* options */);
```

Vous pouvez ensuite utiliser la fonction retournée comme règle d'un champs de formulaire.

```javascript
<script setup lang="ts">
import { isRequiredFn } from '@cnamts/synapse';
import { VTextField } from 'vuetify/components';

const isRequired = isRequiredFn(/* options */);

</script>

<template>
	<VTextField
		:rules="[isRequired]"
		label="Required field"
	/>
</template>
```

Si vous n'utilisez cette règle sans options, vous pouvez faire appel à la fonction `isRequired`.

```javascript
<script setup lang="ts">
import { isRequired } from '@cnamts/synapse';
import { VTextField } from 'vuetify/components';
</script>

<template>
	<VTextField
		:rules="[isRequired]"
		label="Required field"
	/>
</template>

```

## API

```typescript
isRequiredFn(
	errorMessages?: {
		default?: string;
	}
): (value: string) => true | string;
```

### Arguments

- `errorMessages` : objet optionnel permettant de personnaliser les messages d'erreur. Les clés disponibles sont :
	- `default` : message d'erreur par défaut.

### Valeurs de retour

Retourne une fonction pouvant être utilisée comme règle de validation pour un champs de formulaire Vuetify.

## Exemples

<Canvas of={IsRequiredStories.Default} />